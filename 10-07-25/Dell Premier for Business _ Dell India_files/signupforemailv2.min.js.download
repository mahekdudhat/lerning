((e,t)=>{"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof exports?t():(t(),e.modal={})})("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(){var i,o,n;Dell.UnifiedMasthead=Dell.UnifiedMasthead||{},Dell.UnifiedMasthead.SignUpModal=(i=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])",'[tabindex]:not([tabindex^="-"])'],o=(()=>{function e(e){var t=e.targetModal,i=e.onShow,i=void 0===i?function(){}:i,o=e.onClose,o=void 0===o?function(){}:o,n=e.openTrigger,n=void 0===n?"data-open-trigger":n,s=e.closeTrigger,s=void 0===s?"data-close-trigger":s,l=e.openClass,l=void 0===l?"signUpFadeIn":l,a=e.disableScroll,a=void 0!==a&&a,r=e.disableFocus,r=void 0!==r&&r,e=e.isScrollDisabled,e=void 0!==e&&e;this.modal=document.getElementById(t),this.config={disableScroll:a,openTrigger:n,closeTrigger:s,openClass:l,onShow:i,onClose:o,disableFocus:r,isScrollDisabled:e},this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this),this.disableScroll=this.disableScroll.bind(this),this.scrollPos=0}var t=e.prototype;return t.showModal=function(e){void 0===e&&(e=null),this.scrollPos=-1*window.document.body.getBoundingClientRect().top,this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.config.isScrollDisabled||this.scrollBehaviour("disable"),this.addEventListeners(),this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,e)},t.closeModal=function(e){void 0===e&&(e=null);var t=this.modal;this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.config.isScrollDisabled||this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),t.classList.remove(this.config.openClass),this.scrollPos=0},t.scrollBehaviour=function(e){if(this.config.disableScroll){var t=document.querySelector("body"),i="enable"===e?document.body.style.top:window.scrollY;switch(e){case"enable":t.parentElement.removeAttribute("email-modal-open"),Object.assign(t.style,{top:"auto"}),window.scrollTo(0,-1*parseInt(i||"0"));break;case"disable":Object.assign(t.style,{top:"-"+i+"px"}),t.parentElement.setAttribute("email-modal-open","true")}}},t.disableScroll=function(e){this.config.disableScroll&&(window.scrollTo({top:this.scrollPos,left:0,behavior:"auto"}),e.preventDefault(),e.stopPropagation())},t.closeModalById=function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()},t.addEventListeners=function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown),this.config.isScrollDisabled&&window.addEventListener("scroll",this.disableScroll)},t.removeEventListeners=function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown),this.config.isScrollDisabled&&window.removeEventListener("scroll",this.disableScroll)},t.onClick=function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))},t.onKeydown=function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)},t.getFocusableNodes=function(){var e=this.modal.querySelectorAll(i);return Array.apply(void 0,e)},t.setFocusToFirstNode=function(){var e,t;this.config.disableFocus||0!==(e=this.getFocusableNodes()).length&&(0<(t=e.filter(function(e){return"pmc_signup_business_toggle_label"===e.id})).length&&t[0].focus(),0===t.length)&&e[0].focus()},t.retainFocus=function(e){var t,i=this.getFocusableNodes();0!==i.length&&(i=i.filter(function(e){return null!==e.offsetParent}),this.modal.contains(document.activeElement)?(t=i.indexOf(document.activeElement),e.shiftKey&&0===t&&(i[i.length-1].focus(),e.preventDefault()),!e.shiftKey&&0<i.length&&t===i.length-1&&(i[0].focus(),e.preventDefault())):i[0].focus())},e})(),n=null,{init:function(e){n=new o(e)},show:function(e,t){t=t||{};t.targetModal=e,n&&n.removeEventListeners(),(n=new o(t)).showModal()},close:function(e){e?n.closeModalById(e):n.closeModal()}})}),((e,t)=>{"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof exports?t():(t(),e.emailcapturepopupv2={})})("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(){function e(){if(C)t();else{if(L&&"undefined"!=typeof Dell&&void 0!==Dell.Metrics&&void 0!==Dell.Metrics.sc&&void 0!==Dell.Metrics.sc.instanceId)if("windows-11"===Dell.Metrics.sc.instanceId)return void i();!v||void 0!==Dell.Masthead.User&&!1===Dell.Masthead.User.isAuthenticated?t():void 0===Dell.Masthead.User&&d.addEventListener("userunauthenticated.um",t)}}function t(){var e;!C&&((e=void 0!==r.Emplifi&&void 0!==r.Emplifi.PromptShown&&!0===r.Emplifi.PromptShown)&&l("iperception-modal-visited",1,1,!0),b||D||(()=>{if(p&&"undefined"!=typeof Dell&&void 0!==Dell.Metrics&&void 0!==Dell.Metrics.sc){var e=Dell.Metrics.sc,t=e.waapplicationname||"",e=e.wacontroller||"";if(t||e)return-1!==p.split(",").indexOf((t+"-"+e).toLowerCase())}})()||(()=>{if(g&&"undefined"!=typeof Dell&&void 0!==Dell.Metrics&&void 0!==Dell.Metrics.sc){var e=Dell.Metrics.sc.instanceId||"";if(e)return-1!==g.split(",").indexOf(e.toLowerCase())}})()||!w||e||y)||i()}function o(){u=setTimeout(function(){n()},M)}function n(){c&&clearTimeout(c),u&&clearTimeout(u);var e=d.querySelector("dell-pmc-signup-email"),o=d.querySelector(".email-capture-container"),e=e&&e.hasChildNodes(),t=o.getAttribute("data-isScrollDisabled");e&&Dell.UnifiedMasthead.SignUpModal.show("email-capture-container",{onShow:function(){s("emailsignupmodalopen")},onClose:function(){l("signupemail-modal-visited",1,365,!0);var e=o.querySelector(".email-capture-wrapper").getAttribute("data-page"),t=o.querySelector(".email-capture-deals").getAttribute("data-current-step"),i=o.querySelector(".email-capture-deals").getAttribute("data-flow-name");s("thanks"===e?"emailsignupmodal|thanks|closeX":"business"===i?"emailsignupmodal|signupfordellcomm"+("bf2"===t?"1":"bf3"===t?"2":"")+"|closeX":"emailsignupmodal|closeX")},disableScroll:!0,isScrollDisabled:t&&"true"==t.toLowerCase()})}function s(e){e=new CustomEvent("ADBUserActionTracker",{bubbles:!0,detail:{type:"metrics",metrics:{btnname:e}}});d.dispatchEvent(e)}function i(){var e;m&&0<m.length&&((e=new XMLHttpRequest).open("GET",m,!0),e.onreadystatechange=function(){var e,t,i;4==this.readyState&&200==this.status&&(e=this.response,(t=d.createElement("div")).id="mh-ext-signupemail-modal",i=d.getElementById("mh-unified-footer"),t.innerHTML=e,i.append(t),h=d.querySelector(".email-capture-container"),h=h.querySelector(".email-capture-deals"),e=d.querySelector(".email-capture-container"),i=d.getElementById("mh-ext-signup-email-reference").getAttribute("data-src"),(t=d.createElement("script")).src=i,t.onload=function(){c=setTimeout(function(){var e;null==(e=d.getElementById("dell-oocmessage"))||e&&"none"===r.getComputedStyle(e).display?n():(r.removeEventListener("ooc-modal-closed.um",function(){o()}),r.addEventListener("ooc-modal-closed.um",function(){o()}))},M)},e.appendChild(t),h&&(h.classList.add("signUpFormHeader"),i=h.querySelector("#pmc_signup_emailInput"))&&i.focus(),Dell.Masthead)&&(Dell.Masthead.EmailPopUpShown=!0)},e.onerror=function(){console.log("signupemail api failed")},mhVars.enableNonceInResponse&&e.setRequestHeader("Nonce-Value",r.dellNonce||""),e.send())}function l(e,t,i,o){var n=(()=>{var e=r.location.hostname.toLowerCase().split(".").reverse();return e&&2<=e.length?e[1]+"."+e[0]:null})(),s=new Date;s.setTime(s.getTime()+1e3*i*60*60*24),i="expires="+s.toUTCString(),d.cookie=e+"="+t+";"+i+";path=/;domain="+n+";"+(o?"secure;":"")}function a(e){for(var t=e+"=",e=escape(d.cookie),i=unescape(e).split(";"),o=0;o<i.length;o++){for(var n=i[o];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return""}var r,d,c,u,h,f,m,p,g,v,b,y,w,E,S,D,M,C,L;r=window,d=document,f=d.getElementById("mh-ext-signup-email-script"),m=f&&f.getAttribute("mfe-url"),p=f&&f.getAttribute("mfe-disabled-pagelets"),g=f&&f.getAttribute("mfe-disabled-cmsdoctypewise"),v=f&&"true"===f.getAttribute("data-hook-unauthenticated-event"),b="1"===a("signupemail-modal-visited"),y="1"===a("iperception-modal-visited"),w=-1!==d.referrer.indexOf("dell.com"),E=f&&f.getAttribute("time-delay"),S=a("um_g_uc"),D=0<S.length&&"true"===S,M=isNaN(parseInt(E))?1e4:parseInt(E),C=1==new URL(r.location.href).searchParams.get("isPmcTest"),L=f&&"true"===f.getAttribute("data-signup-email-win-enabled"),"complete"===d.readyState||"interactive"===d.readyState?e():d.attachEvent?d.attachEvent("onreadystatechange",function(){"complete"===d.readyState&&e()}):d.addEventListener("DOMContentLoaded",e)});